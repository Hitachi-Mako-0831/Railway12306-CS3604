**中期汇报演讲稿（含翻页提示）**

**第1页 封面**
- 各位老师同学好，我们团队今天汇报铁路12306系统的中期进展，围绕完成度、成功/失败案例与协作展望展开，时长7分钟，最后3分钟答疑。
- 我会在每页末加入翻页提示，便于把控节奏。
- 翻页提示：请切到第2页

**第2页 议程**
- 完成情况与需求树：当前实现与端到端完成度
- 成功案例：模型+测试驱动如何产出可执行代码
- 失败案例：生成失败的工程问题与手动修复
- 团队协作与未来展望
- 演示与Q&A
- 翻页提示：请切到第3页

**第3页 完成情况总览（需求树+计数）**
- 需求树（5类场景）：
  - 车票查询 → 条件输入 → 列表展示/筛选 → 进入详情
  - 车次详情 → 车次信息/停靠站 → 座位与价格
  - 订单管理 → 创建/填写 → 支付状态/列表与详情
  - 鉴权 → 登录（口令/短信）→ 注册（校验/验证码/入库）→ 条款/隐私
  - 个人中心 → 资料/设置/订单历史
- 数量统计：
  - 已总结场景数：5
  - 端到端已完成：1（注册）
  - 部分完成：4（车票查询、车次详情、订单管理、登录）
  - 未完成：1（个人中心）
- 依据材料：`/e:/LQiu/CS3604/12306_Follow/中期汇报2.md` 与现有代码映射
- 翻页提示：请切到第4页

**第4页 首页完成情况**
- 路由入口：`frontend/src/App.tsx:12-15` 指向 `HomePage`
- 核心交互：
  - 轮播与导航：`frontend/src/pages/HomePage.tsx:115-131`；`TopNavigation/MainNavigation/BottomNavigation`
  - 快速查询表单：`frontend/src/pages/HomePage.tsx:150-228`，支持单程/往返/中转换乘/退改签
  - 查询跳转：`frontend/src/pages/HomePage.tsx:80-109` 导航至 `/trains`
- 增强项：后端首页内容接口已实现（`backend/src/routes/auth.js:15-16`，`backend/src/controllers/authController.js:137-160`），前端暂未接入，不影响主流程
- 翻页提示：请切到第5页

**第5页 登录页完成情况**
- 路由与页面：`frontend/src/App.tsx:12` → `LoginPage`
- 登录流程：
  - 会话创建：`frontend/src/pages/LoginPage.tsx:20-37` → `POST /api/auth/login`（封装 `frontend/src/api/auth.ts:3-9`）
  - 短信验证：`frontend/src/pages/LoginPage.tsx:60-88` → `POST /api/auth/verify-login`（封装 `frontend/src/api/auth.ts:16-18`）
- 待办项：
  - 登录成功跳转为 TODO：`frontend/src/pages/LoginPage.tsx:73-77`
  - 忘记密码入口为 TODO：`frontend/src/pages/LoginPage.tsx:43-46`；后端接口已就绪 `backend/src/routes/auth.js:18-19`，控制器 `backend/src/controllers/authController.js:162-187`
- 结论：核心登录（口令+短信二次验证）端到端可用，导航与忘记密码页面将补齐
- 翻页提示：请切到第6页

**第6页 注册页完成情况**
- 会话与验证码：
  - 提交注册并获取 `sessionId`：`frontend/src/pages/RegisterPage.tsx:32-77` → `POST /api/register`（`frontend/src/api/register.ts:13-16`）
  - 发送验证码并展示弹窗：`frontend/src/pages/RegisterPage.tsx:48-69` → `POST /api/register/send-verification-code`（`frontend/src/api/register.ts:18-21`）
- 完成注册与跳转：
  - `frontend/src/pages/RegisterPage.tsx:91-105` → `POST /api/register/complete`（`frontend/src/api/register.ts:23-26`），成功后自动跳转登录
  - 弹窗组件：`frontend/src/pages/RegisterPage.tsx:170-181`
- 后端路由齐备：`backend/src/routes/register.js:11-23`
- 结论：注册端到端完整，是当前“已完成”场景
- 翻页提示：请切到第7页

**第7页 成功案例：模型+测试驱动（CalendarPopover）**
- 场景：首页日期选择器（验收标准清晰）
- 验收要点：
  - 14天范围限制、两月并排不重叠、数字等宽、“今天”标签、输入框与图标双入口触发
- 关键实现映射：
  - 范围与“今天”：`frontend/src/components/CalendarPopover.tsx:41-61`
  - 面板与两月并排：`frontend/src/components/CalendarPopover.tsx:62-116`
  - 双入口触发：`frontend/src/pages/HomePage.tsx:185-199`、`190-198`
  - 视觉类名：`frontend/src/components/CalendarPopover.tsx:91-96`
- 方法论：先把验收标准变成可验证断言，再用最小实现让断言“变绿”，形成 Red→Green→Refactor 的闭环。验收越清晰，模型越能生成“可执行最小实现”。
- 翻页提示：请切到第8页

**第8页 失败案例：生成失败与手动修复**
- 失败界定：
  - 根目录无 `package.json` 导致安装/启动失败
  - 导航“车票”指向错误路径，跳转异常
- 根因与修复：
  - 双包结构：分别在 `backend`、`frontend` 安装与启动
  - 修正“车票”入口为 `/trains`：`frontend/src/components/MainNavigation.tsx:9`
- 效果：后端与前端服务稳定运行，导航链路恢复；占位页确保流程不中断
- 经验：理解工程结构与路由一致性，定点测试更稳妥
- 翻页提示：请切到第9页

**第9页 团队协作与展望**
- 现状：需求→接口契约→后端→前端→测试的协作流程基本成形；后端覆盖查询/详情/订单/鉴权，前端首页/登录/注册完成度较好
- 待改进：
  - 登录成功跳转与忘记密码页面落地
  - 首页接入 `GET /api/auth/homepage`
  - 个人中心API与页面实现
- 近期计划（至11/17）：
  - 完成登录成功跳转（`frontend/src/pages/LoginPage.tsx:73-77`）
  - 首页接入后端首页内容接口
  - 落地“忘记密码”页面并消费接口
  - 规划个人中心API（资料、订单汇总）并实现
- 翻页提示：请切到第10页

**第10页 演示脚本**
- 首页演示（30秒）：
  - 输入出发地/到达地/日期 → 点击“查询” → 跳转 `/trains`
  - 展示日期选择器双入口与14天限制
- 登录演示（30秒）：
  - 输入凭据 → 会话创建 → 弹窗输入验证码 → 显示成功提示（说明当前跳转为TODO）
- 注册演示（30秒）：
  - 提交注册 → 发送验证码 → 验证成功 → 自动跳转登录
- 翻页提示：请切到第11页

**第11页 Q&A 引导**
- 预设问答：
  - 为什么首页未接入后端首页内容接口？答：不影响主流程，属增强项，已排期补齐
  - 登录后未自动跳转的影响？答：流程已通，只需在既定位置补导航逻辑
  - 实时余票与排序如何保障？答：当前为示例数据，后续通过数据源与索引优化实现
  - 个人中心为何缺失？答：契约先行，分阶段补齐资料与订单汇总
- 翻页提示：可返回第3页或第12页备份视图

**第12页 备份页（索引与素材）**
- 路由入口：`frontend/src/App.tsx:12-16`
- 首页：`frontend/src/pages/HomePage.tsx:80-109`、`115-131`、`150-228`
- 登录：`frontend/src/pages/LoginPage.tsx:20-37`、`60-88`、`73-77`、`43-46`
- 注册：`frontend/src/pages/RegisterPage.tsx:32-77`、`48-69`、`91-105`、`170-181`
- 导航修复：`frontend/src/components/MainNavigation.tsx:9`
- 日期组件：`frontend/src/components/CalendarPopover.tsx:41-61`、`62-116`、`91-96`
- 后端接口：`backend/src/routes/auth.js:6-19`，`backend/src/controllers/authController.js:137-160`、`162-187`；`backend/src/routes/register.js:11-23`
- 翻页提示：演讲结束，感谢聆听