# 1. 首页功能需求文档

## 1.1 页面视觉与布局规范

### 1.1.1 页面整体结构
- **背景**：页面采用纯白色背景。
- **布局**：采用三段式垂直布局，从上至下依次为顶部导航区、核心功能区和页脚区。

### 1.1.2 顶部导航区
- **品牌标识**：位于页面左上角，包含中国铁路官方Logo及“中国铁路12306”和“12306 CHINA RAILWAY”字样，点击该区域可导航至应用首页。
- **欢迎语**：紧邻品牌标识右侧，展示静态文本“欢迎登录12306”。

### 1.1.3 核心功能区：车票查询模块
- **背景**：采用官方APP宣传图作为背景，以提升品牌形象。
- **查询表单**：表单嵌入宣传背景图的左侧，包含以下控件：
  - 出发地与到达地输入框
  - 用于交换出发地与到达地的双向箭头图标
  - 出发日期选择器
  - “仅看高铁/动车”筛选复选框
  - **查询**操作按钮

### 1.1.4 页脚区
- **内容**：页脚左侧为友情链接集合，右侧陈列四个官方社交媒体平台的二维码矩阵。

---

## 1.2 车票查询交互场景

### 1.2.1 验证出发地输入是否为空
**Scenario**: 查询时未提供出发地
- **Given**: 用户当前位于**首页或查询页**，并且出发地输入框为空。
- **When**: 用户执行车票查询操作。
- **Then**: 系统应显示提示信息：“请指定出发站点”。

### 1.2.2 验证到达地输入是否为空
**Scenario**: 查询时未提供到达地
- **Given**: 用户当前位于**首页或查询页**，并且到达地输入框为空。
- **When**: 用户执行车票查询操作。
- **Then**: 系统应显示提示信息：“请指定到达站点”。

### 1.2.3 验证出发地输入的有效性
**Scenario**: 输入了不支持的出发地
- **Given**: 用户在**首页或查询页**的查询表单中输入了一个无效的出发城市。
- **When**: 用户提交车票查询请求。
- **Then**: 系统应提示“未能匹配到有效的出发地”。
- **And**: 系统应在出发地建议列表中展示拼写相近的有效站点。
- **And**: 用户能够通过点选建议列表中的站点来更新出发地输入。

### 1.2.4 验证到达地输入的有效性
**Scenario**: 输入了不支持的到达地
- **Given**: 用户在**首页或查询页**的查询表单中输入了一个无效的到达城市。
- **When**: 用户提交车票查询请求。
- **Then**: 系统应提示“未能匹配到有效的到达地”。
- **And**: 系统应在到达地建议列表中展示拼写相近的有效站点。
- **And**: 用户能够通过点选建议列表中的站点来更新到达地输入。

### 1.2.5 有效出发地推荐功能
**Scenario**: 用户请求出发地列表
- **Given**: 用户访问**首页或查询页**。
- **When**: 用户与出发地输入框交互。
- **Then**: 系统应以下拉形式展示所有支持的出发站点。

### 1.2.6 有效到达地推荐功能
**Scenario**: 用户请求到达地列表
- **Given**: 用户访问**首页或查询页**。
- **When**: 用户与到达地输入框交互。
- **Then**: 系统应以下拉形式展示所有支持的到达站点。

### 1.2.7 有效出发日期选择功能
**Scenario**: 用户选择出发日期
- **Given**: 用户位于**首页或查询页**。
- **When**: 用户点击出发日期选择器。
- **Then**: 系统应展示一个日历控件。
- **And**: 用户仅能从日历中选择当前可预订的日期，已过或未开放售票的日期应置灰或不可选。

### 1.2.8 交换出发地与到达地
**Scenario**: 用户触发地点交换操作
- **Given**: 用户在**首页或查询页**的查询表单中已输入出发地或到达地。
- **When**: 用户点击出发地与到达地之间的**交换图标**。
- **Then**: 系统应将出发地和到达地输入框中的内容互换。

### 1.2.9 默认出发日期设置
**Scenario**: 页面加载时自动填充出发日期
- **Given**: 用户进入**车票查询页面**。
- **When**: 用户尚未在出发日期输入框中进行任何操作。
- **Then**: 系统应自动将当前系统日期填充至出发日期字段。

### 1.2.10 执行车票查询
**Scenario**: 使用有效查询条件成功查询车票
- **Given**: 用户在**首页或查询页**的表单中提供了有效的出发地、到达地和出发日期。
- **When**: 用户提交查询请求。
- **And**: 系统服务可用且正常响应。
- **Then**: 系统应在100毫秒内导航至车次列表页面。
- **And**: 页面应展示所有匹配用户查询条件（出发地、到达地、日期、高铁/动车选项）的车次。

**Scenario**: 因系统无响应导致车票查询失败
- **Given**: 用户在**首页或查询页**的表单中提供了有效的出发地、到达地和出发日期。
- **When**: 用户提交查询请求。
- **And**: 系统服务未能成功响应。
- **Then**: 页面应在100毫秒后仍停留在当前页，并显示错误信息：“查询操作失败，请稍后重试”。
- **And**: 所有用户已输入的查询条件应被保留。

---

## 1.3 用户认证交互场景

### 1.3.1 用户登录流程
**Scenario**: 未登录用户尝试登录
- **Given**: 用户当前为未登录状态并位于**首页或查询页**。
- **When**: 用户点击**登录**按钮。
- **And**: 系统服务可用。
- **Then**: 系统应在100毫秒内重定向至用户登录页面。

**Scenario**: 因系统无响应导致登录跳转失败
- **Given**: 用户当前为未登录状态并位于**首页或查询页**。
- **When**: 用户点击**登录**按钮。
- **And**: 系统服务不可用。
- **Then**: 页面应停留在当前页，并显示提示信息：“登录服务暂不可用，请稍后再试”。

### 1.3.2 用户注册流程
**Scenario**: 新用户尝试注册
- **Given**: 一位尚未注册的用户正访问**首页或查询页**。
- **When**: 用户点击**注册**按钮。
- **And**: 系统服务可用。
- **Then**: 系统应在100毫秒内导航至用户注册页面。

**Scenario**: 因系统无响应导致注册跳转失败
- **Given**: 一位尚未注册的用户正访问**首页或查询页**。
- **When**: 用户点击**注册**按钮。
- **And**: 系统服务不可用。
- **Then**: 页面应停留在当前页，并显示提示信息：“注册服务暂不可用，请稍后再试”。

### 1.3.3 已登录用户的界面显示
**Scenario**: 已登录用户的导航栏状态
- **Given**: 用户已成功登录其12306账户并访问**首页或查询页**。
- **When**: 页面加载完成。
- **Then**: 顶部导航栏应展示**个人中心**链接，并隐藏**登录**与**注册**链接。

---

## 1.4 个人中心访问场景

### 1.4.1 已登录用户访问个人中心
**Scenario**: 已登录用户成功访问个人中心
- **Given**: 用户已登录账户并位于**首页或查询页**。
- **When**: 用户点击**个人中心**链接。
- **And**: 系统服务可用。
- **Then**: 系统应在100毫秒内将用户导航至其个人中心页面。

**Scenario**: 已登录用户因系统无响应导致访问个人中心失败
- **Given**: 用户已登录账户并位于**首页或查询页**。
- **When**: 用户点击**个人中心**链接。
- **And**: 系统服务不可用。
- **Then**: 页面应停留在当前页，并显示错误提示：“无法访问个人中心，请稍后重试”。

### 1.4.2 未登录用户访问个人中心
**Scenario**: 未登录用户尝试访问个人中心时被重定向到登录页
- **Given**: 用户为未登录状态且位于**首页或查询页**。
- **When**: 用户点击**个人中心**链接。
- **And**: 系统服务可用。
- **Then**: 系统应在100毫秒内将用户重定向至登录页面。

**Scenario**: 未登录用户因系统无响应导致访问个人中心失败
- **Given**: 用户为未登录状态且位于**首页或查询页**。
- **When**: 用户点击**个人中心**链接。
- **And**: 系统服务不可用。
- **Then**: 页面应停留在当前页，并显示提示信息：“请先完成登录”。

---

## 1.5 快捷入口交互场景

### 1.5.1 通过快捷入口访问车票查询页
**Scenario**: 用户通过快捷入口成功跳转车票查询页
- **Given**: 用户位于**首页或查询页**。
- **When**: 用户点击**车票查询**快捷入口。
- **And**: 系统服务可用。
- **Then**: 系统应在100毫秒内导航至车票查询页面。

**Scenario**: 用户通过快捷入口跳转车票查询页失败
- **Given**: 用户位于**首页或查询页**。
- **When**: 用户点击**车票查询**快捷入口。
- **And**: 系统服务不可用。
- **Then**: 页面应停留在当前页，并显示错误提示：“页面跳转失败，请稍后重试”。
